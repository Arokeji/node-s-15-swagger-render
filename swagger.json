{"openapi":"3.0.0","info":{"title":"Library API","version":"1.0.0","description":"This is a simple CRUD API","license":{"name":"MIT","url":"http://mit.com"},"contact":{"name":"Hcaleb","url":"https://github.com/arokeji","email":"hcasanovalebrero@hotmail.com"}},"server":[{"url":"http://localhost:3000"}],"paths":{"/author":{"get":{"summary":"List all authors","tags":["Author"],"responses":{"200":{"description":"List with all the authors","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Author"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}}},"post":{"summary":"Create a new author","tags":["Author"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"responses":{"200":{"description":"The created author","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"400":{"description":"Invalid request parameters","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/author/{id}":{"get":{"summary":"Gets an specific author by ID","tags":["Author"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Author ID"}],"responses":{"200":{"description":"Lists an specific author by ID","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}}}},"delete":{"summary":"Delete an author by ID","tags":["Author"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Author ID"}],"responses":{"200":{"description":"The deleted author","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"401":{"description":"Unauthorized request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}},"put":{"summary":"Update an author by ID","tags":["Author"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"Author ID"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"responses":{"200":{"description":"The updated author","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Author"}}}},"400":{"description":"Invalid request parameters","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"401":{"description":"Unauthorized request","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/author/name/{name}":{"get":{"summary":"Get authors by name","tags":["Author"],"parameters":[{"in":"path","name":"name","schema":{"type":"string"},"required":true,"description":"Author name"}],"responses":{"200":{"description":"Authors matching the name","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Author"}}}}},"404":{"description":"No authors found","content":{"application/json":{"schema":{"type":"object"}}}}}}},"/author/login":{"post":{"summary":"Login an author","tags":["Author"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","properties":{"user":{"type":"string"},"password":{"type":"string"}}}}}},"responses":{"200":{"description":"Successful login","content":{"application/json":{"schema":{"type":"object","properties":{"token":{"type":"string"}}}}}},"400":{"description":"Missing user or password","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}},"401":{"description":"Invalid user or password","content":{"application/json":{"schema":{"type":"object","properties":{"error":{"type":"string"}}}}}}}}},"/book/{id}":{"get":{"summary":"Get a specific book by ID","tags":["Book"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID of the book"}],"responses":{"200":{"description":"The book data","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Book not found"}}},"delete":{"summary":"Delete a specific book by ID","tags":["Book"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID of the book"}],"responses":{"200":{"description":"The deleted book","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Book not found"}}},"put":{"summary":"Update a specific book by ID","tags":["Book"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID of the book"}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"responses":{"200":{"description":"The updated book","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Book not found"}}}},"/book":{"get":{"summary":"List all books","tags":["Book"],"responses":{"200":{"description":"List with all the books","content":{"application/json":{"schema":{"type":"object","properties":{"data":{"type":"array","items":{"$ref":"#/components/schemas/Book"}},"pagination":{"$ref":"#/components/schemas/Pagination"}}}}}}}},"post":{"summary":"Create a new book","tags":["Book"],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"responses":{"200":{"description":"The created book","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}}}}},"/book/title/{title}":{"get":{"summary":"Get books by title","tags":["Book"],"parameters":[{"in":"path","name":"title","schema":{"type":"string"},"required":true,"description":"Title of the book"}],"responses":{"200":{"description":"The list of books","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Book"}}}}},"404":{"description":"No books found with the specified title"}}}},"/book/{id}/upload":{"post":{"summary":"Upload a cover image for a specific book","tags":["Book"],"parameters":[{"in":"path","name":"id","schema":{"type":"string"},"required":true,"description":"ID of the book"}],"requestBody":{"required":true,"content":{"multipart/form-data":{"schema":{"type":"object","properties":{"image":{"type":"string","format":"binary"}}}}}},"responses":{"200":{"description":"The updated book data with the uploaded cover image","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Book"}}}},"404":{"description":"Book not found"}}}}},"components":{"schemas":{"Author":{"type":"object","required":["user","password"],"properties":{"name":{"type":"string","description":"Name of the author"},"country":{"type":"string","description":"Country of the author"},"books":{"type":"object","properties":{"type":{"type":"string","description":"Books written by this author","enum":["ObjectId"],"example":"ObjectId(\"bookId\")"}}}}},"Book":{"type":"object","properties":{"title":{"type":"string","description":"Title of the book"},"author":{"type":"object","properties":{"_id":{"type":"string","description":"ID of the author"}}},"pages":{"type":"number","description":"Number of pages in the book"},"rating":{"type":"number","description":"Rating of the book"},"publisher":{"type":"object","properties":{"name":{"type":"string","description":"Name of the publisher"},"category":{"type":"string","description":"Category of the publisher"}}},"coverImage":{"type":"string","description":"URL of the cover image"}}},"Pagination":{"type":"object","properties":{"totalItems":{"type":"number","description":"Number of all the items contained"},"totalPages":{"type":"number","description":"Number of pages in total"},"currentPage":{"type":"number","description":"Current page number"}}}}},"tags":[{"name":"Author","description":"Author management"},{"name":"Book","description":"Books management"}]}